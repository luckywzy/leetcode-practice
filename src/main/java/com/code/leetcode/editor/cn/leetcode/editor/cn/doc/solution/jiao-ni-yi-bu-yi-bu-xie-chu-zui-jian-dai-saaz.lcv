## å­—å…¸åº

æˆ‘ä»¬å…ˆå·©å›ºä¸€ä¸‹å­—å…¸åºçš„æ¦‚å¿µï¼š

å½“ä¸”ä»…å½“ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€æˆç«‹æ—¶ï¼Œ$a$ åœ¨è¯å…¸ä¸Šå°äº $b$ ï¼š

- åœ¨æ•°ç»„ $a$ å’Œæ•°ç»„ $b$ ç¬¬ä¸€ä¸ªä¸åŒçš„ä½ç½® $i$ ä¸Šï¼Œ$a_i < b_i$ã€‚

é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œä¸€ä¸ªåºåˆ—çš„**æœ€å¤§å­—å…¸åºå°±æ˜¯å€’åº**ï¼›ä¸€ä¸ªåºåˆ—çš„**æœ€å°å­—å…¸åºå°±æ˜¯å‡åº**ã€‚

ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªåºåˆ—å¦‚æœå·²ç»æ˜¯å€’åºçš„è¯ï¼Œé‚£ä¹ˆå°±å·²ç»æ²¡æœ‰æ¯”å®ƒå­—å…¸åºæ›´å¤§çš„æ’åˆ—äº†ã€‚æœ‰äº†è¿™ä¸ªå‰ææˆ‘ä»¬å†å¾€ä¸‹çœ‹ã€‚

## ä¸‹ä¸€ä¸ªæ’åˆ—

æˆ‘ä»¬è¦æ‰¾ä¸€ä¸ªåºåˆ—çš„ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œä¹Ÿå°±æ˜¯å°½å¯èƒ½å°çš„å¢åŠ å½“å‰åºåˆ—çš„å­—å…¸åºï¼Œé‚£ä¹ˆå°±æ˜¯è¦è®©å¢å¤§æ•°å­—çš„ä½ç½®å°½å¯èƒ½çš„é åã€‚

**é‚£ä¹ˆå°½å¯èƒ½é åæ˜¯ååœ¨ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿ**

æœ‰äº†ä¸Šé¢çš„å‰æï¼Œæˆ‘ä»¬å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œå¦‚æœè¯¥æ•°ç»„çš„ä¸€æ®µåç¼€ï¼Œå·²ç»æ˜¯å€’åºçš„äº†ï¼Œè¯´æ˜å¯¹äºè¯¥åç¼€å·²ç»ä¸èƒ½é€šè¿‡æ”¹å˜å…¶å…ƒç´ çš„ä½ç½®å…³ç³»æ¥å¢å¤§å…¶å­—å…¸åºäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åªèƒ½å¢å¤§è¯¥åç¼€çš„å‰ä¸€ä¸ªå…ƒç´ äº†ï¼Œæˆ‘ä»¬è®¾è¿™ä¸ªä½ç½®ä¸‹æ ‡ä¸º $i$ã€‚

å› ä¸ºæˆ‘ä»¬è¦å°½å¯èƒ½å°çš„å¢å¤§å­—å…¸åºï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°½å¯èƒ½å°‘çš„å¢å¤§ $i$ ä½ç½®å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦ä»å€’åºçš„åç¼€ä¸­æ‰¾åˆ°ä¸€ä¸ªæ¯” $i$ ä½ç½®å…ƒç´ å¤§çš„æœ€å°å…ƒç´ ã€‚

å¦‚ä¸‹ä¾‹ï¼Œçº¢è‰²éƒ¨åˆ†å°±æ˜¯å·²ç»å®Œå…¨å€’åºäº†ï¼Œæˆ‘ä»¬åªèƒ½å¢å¤§è“è‰²ä½ç½®å…ƒç´ ã€‚
$$
14{\color{Blue}5 } {\color{Red}632}
$$
æ‰¾åˆ°ä¸€ä¸ªæ¯” $5$ å¤§ä¸”æœ€å°çš„å…ƒç´  $6$ï¼Œå°†å…¶å˜æˆ
$$
14{\color{Blue}6 } {\color{Red}532}
$$
è¿™æ—¶æˆ‘ä»¬å‘ç°çº¢è‰²éƒ¨åˆ†çš„å­—å…¸åºæ˜¯å¯ä»¥å‡å°çš„ï¼Œæˆ‘ä»¬æŠŠå®ƒå˜æˆå‡åºå³å¯ã€‚
$$
14{\color{Blue}6 } {\color{Red}235}
$$
è¿™æ ·å°±å¯ä¹Ÿä¿è¯å°½å¯èƒ½å°çš„å¢å¤§å­—å…¸åºã€‚

## å®ç°

å®ç°æ—¶ï¼Œæˆ‘ä»¬åœ¨æ‰¾åˆ°ä¸€ä¸ªå€’åºçš„åç¼€ä¹‹åï¼Œæˆ‘ä»¬è¦æ‰¾ä¸€ä¸ªæ¯” $i$ ä½ç½®å…ƒç´ å¤§çš„æœ€å°å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥éå†ä¸€éå»æ‰¾ã€‚

ä½†æ˜¯ä»”ç»†æ€è€ƒä¼šå‘ç°ï¼Œä¸€ä¸ªå€’åºçš„åç¼€æ•°ç»„ä¸­æ‰¾ä¸€ä¸ªå€¼ï¼Œ**å€’åºï¼Ÿ**ï¼Œè¿™ä¸æ˜¯å°±æ˜¯åœ¨ä¸€ä¸ªæœ‰åºåºåˆ—ä¸­æŸ¥æ‰¾å—ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥ç”¨**äºŒåˆ†æŸ¥æ‰¾**ã€‚

è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç”¨c++åº“å‡½æ•° $upper\_bound()$ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹

* cpp

```cpp
iterator upper_bound(iterator first,iterator last,const T&val);
```

è¯¥å‡½æ•°ä¼šåœ¨$[first,last)$ çš„åŒºé—´å†…äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯” $val$ å€¼å¤§çš„å…ƒç´ ï¼Œå¹¶è¿”å›å…¶æŒ‡é’ˆï¼ˆæˆ–è¿­ä»£å™¨ï¼‰ã€‚ä½†æ˜¯è¦ä¿è¯è¯¥åŒºé—´çš„å…ƒç´ æ˜¯å‡åºçš„ã€‚

* cpp

```cpp
class Solution {
public:
    void nextPermutation(vector<int>& nums) {
        for(int i = nums.size() - 2;i >= 0; --i)
            // æ‰¾åˆ°ä¸€ä¸ªå€’åºçš„åç¼€æ•°ç»„
            if(nums[i + 1] > nums[i]){
                // åè½¬ä½¿åç¼€æ•°ç»„å‡åº
                reverse(nums.begin() + i + 1,nums.end());
                // å°†æ¯”nums[i]å¤§çš„æœ€å°å…ƒç´ æ‰¾åˆ°ï¼Œå¹¶ä¸å…¶äº¤æ¢ï¼Œç„¶åç»“æŸå‡½æ•°
                return swap(*upper_bound(nums.begin() + i + 1, nums.end(),nums[i]),nums[i]),void();
            }
        // æ²¡æœ‰ç»“æŸè¯´æ˜æ•´ä¸ªæ•°ç»„éƒ½æ˜¯å€’åºçš„ï¼Œç›´æ¥å°†æ•°ç»„åè½¬
        reverse(nums.begin(),nums.end());
    }
};
```

æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n)$ çš„ï¼Œæœ€åæƒ…å†µæ˜¯éå†æ•´ä¸ªæ•°ç»„ã€‚

ç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚

-----------

æœ€åæŠŠæ³¨é‡Šå»æ‰çœ‹çœ‹

* cpp

```cpp
class Solution {
public:
    void nextPermutation(vector<int>& nums) {
        for(int i = nums.size() - 2;i >= 0; --i)
            if(nums[i + 1] > nums[i]){
                reverse(nums.begin() + i + 1,nums.end());
                return swap(*upper_bound(nums.begin() + i + 1, nums.end(),nums[i]),nums[i]),void();
            }
        reverse(nums.begin(),nums.end());
    }
};
```

çœ‹äº†ä¸€åœˆé¢˜è§£ï¼Œé™¤äº†ç›´æ¥è°ƒ $next\_permutation()$ å‡½æ•°çš„ï¼Œè¿™å°±æ˜¯æœ€ç®€æ´çš„äº†ã€‚çœ‹ç€å¤ªçˆ½äº†ğŸ˜­

