package com.code.leetcode.editor.cn;

//è¯·åœ¨ n Ã— n çš„æ£‹ç›˜ä¸Šï¼Œå®ç°ä¸€ä¸ªåˆ¤å®šäº•å­—æ£‹ï¼ˆTic-Tac-Toeï¼‰èƒœè´Ÿçš„ç¥å™¨ï¼Œåˆ¤æ–­æ¯ä¸€æ¬¡ç©å®¶è½å­åï¼Œæ˜¯å¦æœ‰èƒœå‡ºçš„ç©å®¶ã€‚ 
//
// åœ¨è¿™ä¸ªäº•å­—æ£‹æ¸¸æˆä¸­ï¼Œä¼šæœ‰ 2 åç©å®¶ï¼Œä»–ä»¬å°†è½®æµåœ¨æ£‹ç›˜ä¸Šæ”¾ç½®è‡ªå·±çš„æ£‹å­ã€‚ 
//
// åœ¨å®ç°è¿™ä¸ªåˆ¤å®šå™¨çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥å‡è®¾ä»¥ä¸‹è¿™äº›è§„åˆ™ä¸€å®šæˆç«‹ï¼š 
//
// 1. æ¯ä¸€æ­¥æ£‹éƒ½æ˜¯åœ¨æ£‹ç›˜å†…çš„ï¼Œå¹¶ä¸”åªèƒ½è¢«æ”¾ç½®åœ¨ä¸€ä¸ªç©ºçš„æ ¼å­é‡Œï¼› 
//
// 2. ä¸€æ—¦æ¸¸æˆä¸­æœ‰ä¸€åç©å®¶èƒœå‡ºçš„è¯ï¼Œæ¸¸æˆå°†ä¸èƒ½å†ç»§ç»­ï¼› 
//
// 3. ä¸€ä¸ªç©å®¶å¦‚æœåœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–è€…åŒä¸€æ–œå¯¹è§’çº¿ä¸Šéƒ½æ”¾ç½®äº†è‡ªå·±çš„æ£‹å­ï¼Œé‚£ä¹ˆä»–ä¾¿è·å¾—èƒœåˆ©ã€‚ 
//
// ç¤ºä¾‹: 
//
// ç»™å®šæ£‹ç›˜è¾¹é•¿ n = 3, ç©å®¶ 1 çš„æ£‹å­ç¬¦å·æ˜¯ "X"ï¼Œç©å®¶ 2 çš„æ£‹å­ç¬¦å·æ˜¯ "O"ã€‚
//
//TicTacToe toe = new TicTacToe(3);
//
//toe.move(0, 0, 1); -> å‡½æ•°è¿”å› 0 (æ­¤æ—¶ï¼Œæš‚æ—¶æ²¡æœ‰ç©å®¶èµ¢å¾—è¿™åœºå¯¹å†³)
//|X| | |
//| | | |    // ç©å®¶ 1 åœ¨ (0, 0) è½å­ã€‚
//| | | |
//
//toe.move(0, 2, 2); -> å‡½æ•°è¿”å› 0 (æš‚æ—¶æ²¡æœ‰ç©å®¶èµ¢å¾—æœ¬åœºæ¯”èµ›)
//|X| |O|
//| | | |    // ç©å®¶ 2 åœ¨ (0, 2) è½å­ã€‚
//| | | |
//
//toe.move(2, 2, 1); -> å‡½æ•°è¿”å› 0 (æš‚æ—¶æ²¡æœ‰ç©å®¶èµ¢å¾—æ¯”èµ›)
//|X| |O|
//| | | |    // ç©å®¶ 1 åœ¨ (2, 2) è½å­ã€‚
//| | |X|
//
//toe.move(1, 1, 2); -> å‡½æ•°è¿”å› 0 (æš‚æ²¡æœ‰ç©å®¶èµ¢å¾—æ¯”èµ›)
//|X| |O|
//| |O| |    // ç©å®¶ 2 åœ¨ (1, 1) è½å­ã€‚
//| | |X|
//
//toe.move(2, 0, 1); -> å‡½æ•°è¿”å› 0 (æš‚æ— ç©å®¶èµ¢å¾—æ¯”èµ›)
//|X| |O|
//| |O| |    // ç©å®¶ 1 åœ¨ (2, 0) è½å­ã€‚
//|X| |X|
//
//toe.move(1, 0, 2); -> å‡½æ•°è¿”å› 0 (æ²¡æœ‰ç©å®¶èµ¢å¾—æ¯”èµ›)
//|X| |O|
//|O|O| |    // ç©å®¶ 2 åœ¨ (1, 0) è½å­.
//|X| |X|
//
//toe.move(2, 1, 1); -> å‡½æ•°è¿”å› 1 (æ­¤æ—¶ï¼Œç©å®¶ 1 èµ¢å¾—äº†è¯¥åœºæ¯”èµ›)
//|X| |O|
//|O|O| |    // ç©å®¶ 1 åœ¨ (2, 1) è½å­ã€‚
//|X|X|X|
// 
//
// 
//
// è¿›é˜¶: 
//æ‚¨æœ‰æ²¡æœ‰å¯èƒ½å°†æ¯ä¸€æ­¥çš„ move() æ“ä½œä¼˜åŒ–åˆ°æ¯” O(nÂ²) æ›´å¿«å—? 
// Related Topics è®¾è®¡ æ•°ç»„ å“ˆå¸Œè¡¨ çŸ©é˜µ ğŸ‘ 101 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class TicTacToe {

    int n;
    char[][] tt;

    public TicTacToe(int n) {
        this.n = n;
        tt = new char[n][n];
    }

    /**
     * å®é™…ä¸Šè¿™é“é¢˜å°± å››ç§ èµ¢çš„æƒ…å†µ
     * 1ï¼šåŒä¸€è¡Œï¼› 2ï¼šåŒä¸€åˆ—ï¼› 3ï¼šå³æ–œå¯¹è§’çº¿ï¼›4ï¼šå·¦æ–œå¯¹è§’çº¿
     * æ¯æ¬¡move æ“ä½œéƒ½ä¼šè½åœ¨r,lä¸Šï¼Œé‚£æ¯æ¬¡å°±åˆ¤æ–­r,l æ‰€åœ¨çš„ è¡Œï¼Œåˆ—ï¼Œå¯¹è§’çº¿ä¸Šçš„æ¯ä¸ªç‚¹æ˜¯å¦å’Œr,læ‰€åœ¨çš„æ£‹å­ä¸€æ ·
     *
     * @param row
     * @param col
     * @param player
     * @return
     */
    public int move(int row, int col, int player) {
        tt[row][col] = player == 1 ? 'X' : 'O';
        if (hasWin(row, col)) {
            return player == 1 ? 1 : 2;
        }
        return 0;
    }

    private boolean hasWin(int r, int c) {
        boolean aa = true;
        for (int i = 0; i < n; i++) {
            if (tt[r][c] != tt[r][i]) {
                aa = false;
                break;
            }
        }

        boolean bb = true;
        for (int i = 0; i < n; i++) {
            if (tt[r][c] != tt[i][c]) {
                bb = false;
                break;
            }
        }


        boolean cc = true;
        for (int i = 0; i < n; i++) {
            if (tt[r][c] != tt[i][i]) {
                cc = false;
                break;
            }
        }

        boolean dd = true;
        for (int i = n - 1; i > -1; i--) {
            if (tt[r][c] != tt[n - 1 - i][i]) {
                dd = false;
                break;
            }
        }

        return aa || bb || cc || dd;
    }
}

/**
 * Your TicTacToe object will be instantiated and called as such:
 * TicTacToe obj = new TicTacToe(n);
 * int param_1 = obj.move(row,col,player);
 */
//leetcode submit region end(Prohibit modification and deletion)
